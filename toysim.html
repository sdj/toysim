<!doctype html>
<html lang="en">
<title> Toy Machine Simulator </title>
<body>
<h3>Toy Machine Simulator </h3>

<p>

<script src="toysim.js"></script>

<form name=f>
&nbsp;&nbsp;&nbsp;&nbsp; Program:
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp; &nbsp; &nbsp;   Output: <br>
     &nbsp;&nbsp;&nbsp;&nbsp;
<textarea name=src rows=6 cols=15 style="background:#fffafa; border-width:thin" >
top
 rand
 store answer
loop
 get
 print
 sub answer
 ifzero correct
 ifpos lower
 goto higher
correct
 load 999
 print
 stop
lower
 load -111
 print
 goto loop
higher
 load 111
 print
 goto loop
answer 0
</textarea> &nbsp;&nbsp;&nbsp;&nbsp;
<textarea name=output rows=6 cols=15 style="background:#fffff0; border-width:thin"></textarea> &nbsp;&nbsp;&nbsp;&nbsp;
<p>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Accumulator: &nbsp; <input name=accum size=10 style="background:#fffff0">
<P>    &nbsp;&nbsp;&nbsp;&nbsp;
<INPUT TYPE="button" VALUE="RUN" onClick='compile(); run()'>
</form>

<h4> Guess a number! </h4>

<p>This page includes a sample program demonstrating a simple guess a number game. Click run and then enter a number, look in the output box and you'll see your guess and one of three numbers following it:</p>
<ul>
      <li>-111 means your guess was too high and the answer is lower</li>
      <li>111 means your guess was too low and the answer is higher</li>
      <li>999 means you guessed correctly!</li>
</ul>

<p>Notes: This is known to work in FireFox, and does NOT work in Chrome up to v69.
To implement this game a RAND instruction was added to the simulator (see Syntax section).</p>

<h4> Syntax reminder </h4>

<pre>
     get       get a number from keyboard into accumulator
     print     print contents of accumulator
     load <i><i>Val</i></i>  load accumulator with <i>Val</i> (<i>Val</i> unchanged)
     store M   store contents of accumulator into memory location called M (accumulator unchanged)
     add <i>Val</i>   add <i>Val</i> to contents of accumulator (<i>Val</i> unchanged)
     sub <i>Val</i>   subtract <i>Val</i> from contents of accumulator (<i>Val</i> unchanged)
     goto L    go to instruction labeled L
     ifpos L   go to instruction labeled L if accumulator is &gt;= zero
     ifzero L  go to instruction labeled L if accumulator is zero
     stop      stop running
     rand      put random number between 0 and 100 in accumulator
   M Num       before program runs, set this memory location (called M) to numeric value Num
</pre>

If <tt><i>Val</i></tt> is a name like <tt>Sum</tt>, it refers to a labeled
memory location.  If <tt><i>Val</i></tt> is a number like 17, that value is
used directly.  So <tt>add Sum</tt> means to add the contents of the memory
location named <tt>Sum</tt> to the accumulator value (leaving <tt>Sum</tt>'s
contents unchanged), while <tt>add 1</tt> means to add 1 to the
accumulator value.

<P> If you want to see how the simulator works, 
Tools / Web Developer / Page Source in Firefox,
Customize / Tools / View source in Chrome, or
Developer / View Source in Safari.

<P>
This version has a limit of 1000 instructions by default, to make
it easier to prevent infinite loops.  The single-step version has
no limit.
</body>
</html>
